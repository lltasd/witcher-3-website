(self.webpackChunk=self.webpackChunk||[]).push([[4510],{23157:(e,t,n)=>{"use strict";var r,o=n(82109),i=n(21470),a=n(31236).f,u=n(17466),l=n(41340),c=n(3929),s=n(84488),f=n(84964),d=n(31913),p=i("".startsWith),m=i("".slice),h=Math.min,v=f("startsWith");o({target:"String",proto:!0,forced:!!(d||v||(r=a(String.prototype,"startsWith"),!r||r.writable))&&!v},{startsWith:function(e){var t=l(s(this));c(e);var n=u(h(arguments.length>1?arguments[1]:void 0,t.length)),r=l(e);return p?p(t,r,n):m(t,n,n+r.length)===r}})},40477:function(e,t,n){var r;e.exports=(r=n(67294),(()=>{"use strict";var e={297:e=>{e.exports=r}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o={};return(()=>{n.d(o,{default:()=>u});var e,t=n(297),r=n.n(t),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){return e>t?t:e<0?0:e}function u(n){var o=n.firstImage,u=n.secondImage,l=n.className,c=n.withResizeFeel,s=void 0===c||c,f=n.currentPercentPosition,d=n.onVisible,p=n.onReady,m=n.onChangePercentPosition,h=n.delimiterIconStyles,v=n.feelsOnlyTheDelimiter,g=void 0!==v&&v,y=n.delimiterColor,b=void 0===y?"#fff":y,T=["before-after-slider"];l&&T.push(l);var x=(0,t.useRef)(null),w=(0,t.useState)(null),E=w[0],O=w[1],C=(0,t.useState)(f||50),S=C[0],_=C[1],j=(0,t.useState)(e.DEFAULT),k=j[0],P=j[1],M=function(e,n,r){var o=(0,t.useState)(!1),i=o[0],a=o[1],u=(0,t.useState)(0),l=u[0],c=u[1];return(0,t.useEffect)((function(){!i&&2===l&&e&&n.current&&a(!0)}),[l,e,i,n.current]),(0,t.useEffect)((function(){i&&r&&r()}),[i]),{onImageLoad:function(){c(l+1)},isReady:i}}(E,x,p),I=M.onImageLoad,R=M.isReady,L=(0,t.useState)({top:0,left:0}),z=L[0],N=L[1],W=(0,t.useState)(d&&"undefined"!=typeof window&&Boolean(window.IntersectionObserver)?new IntersectionObserver((function(e){W&&d&&e.forEach((function(e){e.intersectionRatio>.95&&(W.disconnect(),d())}))}),{threshold:[0,.95]}):null)[0];(0,t.useEffect)((function(){if(W){if(!R)return;W.observe(x.current)}}),[R]),(0,t.useEffect)((function(){f&&E&&_(a(f,E))}),[f,E]);var F=function(){if(x.current){var e=x.current.offsetWidth;O(e)}},U=function(){P(e.DEFAULT)};!function(e,n){(0,t.useEffect)((function(){return e(),document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}),[])}(F,U);var A=E?{width:E+"px"}:void 0,D={width:S+"%"},B=r().useMemo((function(){return i({backgroundColor:b},h||{})}),[b,h]),V=r().useMemo((function(){return{left:S+"%",backgroundColor:b}}),[S,b]),X=function(){!function(){if(x.current){var e=x.current.getBoundingClientRect();N({top:e.top+pageYOffset,left:e.left+pageXOffset})}}(),P(e.MOVE)},q=function(t){if(k===e.MOVE){if(!E)return;var n=a(t.pageX-z.left,E)/E*100;m?m(n):_(n)}};!function(e,n){(0,t.useEffect)((function(){return n&&window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[])}(F,s);var Y={onMouseDown:X,onTouchStart:X};return r().createElement("div",i({ref:x,className:T.join(" "),onMouseMove:function(e){return q(e)},onTouchMove:function(e){q(e.touches[0])},onTouchEnd:U,onTouchCancel:U},g?{}:Y),r().createElement("div",{className:"before-after-slider__first-photo-container"},r().createElement("img",{src:o.imageUrl,onLoad:function(){F(),I()},draggable:!1,alt:o.alt})),Boolean(E)&&r().createElement(r().Fragment,null,r().createElement("div",{className:"before-after-slider__second-photo-container",style:D},r().createElement("img",{style:A,src:u.imageUrl,onLoad:I,draggable:!1,alt:u.alt})),r().createElement("div",i({className:"before-after-slider__delimiter",style:V},g?Y:{}),r().createElement("div",null,r().createElement("div",{className:"before-after-slider__delimiter-icon",style:B})))))}!function(e){e.MOVE="move",e.DEFAULT="default"}(e||(e={}))})(),o.default})())},37856:(e,t,n)=>{"use strict";var r,o,i;o=[t,n(67294),n(45697)],r=function(t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n),i=a(r);function a(e){return e&&e.__esModule?e:{default:e}}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){if(null==e)return{};var n,r,o=c(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function c(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?h(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=1e-4,T=function(e,t){return Math.abs(e-t)<b},x=function(e){function t(){var e,n;s(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return y(h(n=p(this,(e=m(t)).call.apply(e,[this].concat(o)))),"onResize",(function(){n.rafId&&window.cancelAnimationFrame(n.rafId),n.rafId=window.requestAnimationFrame(n.update.bind(h(n)))})),y(h(n),"onToggled",(function(e){"function"==typeof n.props.onToggled&&setTimeout((function(){return n.props.onToggled(e)}),0)})),y(h(n),"onTruncated",(function(){"function"==typeof n.props.onTruncated&&setTimeout((function(){return n.props.onTruncated()}),0)})),y(h(n),"onCalculated",(function(){"function"==typeof n.props.onCalculated&&setTimeout((function(){return n.props.onCalculated()}),0)})),y(h(n),"update",(function(){var e=window.getComputedStyle(n.scope),t=[e["font-weight"],e["font-style"],e["font-size"],e["font-family"],e["letter-spacing"]].join(" ");n.canvas.font=t,n.forceUpdate()})),n}return v(t,e),d(t,[{key:"componentDidMount",value:function(){var e=document.createElement("canvas"),t=document.createDocumentFragment(),n=window.getComputedStyle(this.scope),r=[n["font-weight"],n["font-style"],n["font-size"],n["font-family"]].join(" ");t.appendChild(e),this.canvas=e.getContext("2d"),this.canvas.font=r,this.forceUpdate(),window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize),this.rafId&&window.cancelAnimationFrame(this.rafId)}},{key:"measureWidth",value:function(e){return this.canvas.measureText(e).width}},{key:"getRenderText",value:function(){var e=this.props,t=(e.containerClassName,e.element,e.line),r=(e.onCalculated,e.onTruncated,e.onToggled,e.text),i=e.textElement,a=e.textTruncateChild,u=e.truncateText,c=e.maxCalculateTimes,s=l(e,["containerClassName","element","line","onCalculated","onTruncated","onToggled","text","textElement","textTruncateChild","truncateText","maxCalculateTimes"]),f=this.scope.getBoundingClientRect().width;if(0===f)return null;var d=this.measureWidth(r);if(f>d||T(f,d))return this.onToggled(!1),(0,n.createElement)(i,s,r);var p="";if(a&&"string"==typeof a.type){var m=a.type;(m.indexOf("span")>=0||m.indexOf("a")>=0)&&(p=a.props.children)}for(var h=1,v=r.length,g="",y=0,b=0,x=t,w=0,E=!1,O=!1,C=0,S=-1,_="",j=0;x-- >0;){for(_=x?"":u+(p?" "+p:"");h<=v;){if(g=r.substr(b,h),!((w=this.measureWidth(g+_))<f)){do{if(j++>=c)break;g=r.substr(b,h),x||h--," "===g[g.length-1]&&(g=r.substr(b,h-1)),E&&(S=g.lastIndexOf(" "))>-1?(h=S,x&&h++,g=r.substr(b,h)):(h--,g=r.substr(b,h)),w=this.measureWidth(g+_)}while((w>f||T(w,f))&&g.length>0);b+=h;break}-1===(y=r.indexOf(" ",h+1))?(h+=1,E=!1):(E=!0,h=y)}if(h>=v){b=v;break}E&&!O&&-1===r.substr(C,h).indexOf(" ")&&(O=-1===r.substr(C,h).indexOf(" "),x--),C=h+1}return b===v?(this.onToggled(!1),(0,n.createElement)(i,s,r)):(this.onTruncated(),this.onToggled(!0),o.default.createElement("span",s,(0,n.createElement)(i,s,r.substr(0,b)+u+" "),a))}},{key:"render",value:function(){var e=this,t=this.props,r=t.element,o=t.text,i=t.style,a=void 0===i?{}:i,u=t.containerClassName,c=t.line,s=(t.onCalculated,t.onTruncated,t.onToggled,t.textElement),f=(t.textTruncateChild,t.truncateText,t.maxCalculateTimes,l(t,["element","text","style","containerClassName","line","onCalculated","onTruncated","onToggled","textElement","textTruncateChild","truncateText","maxCalculateTimes"])),d=a.fontWeight,p=a.fontStyle,m=a.fontSize,h=a.fontFamily,v=this.scope&&c?this.getRenderText():(0,n.createElement)(s,f,o),g={ref:function(t){e.scope=t},className:u,style:{overflow:"hidden",fontWeight:d,fontStyle:p,fontSize:m,fontFamily:h}};return this.scope&&this.onCalculated(),(0,n.createElement)(r,g,v)}}]),t}(n.Component);y(x,"propTypes",{containerClassName:i.default.string,element:i.default.string,line:i.default.oneOfType([i.default.number,i.default.bool]),onCalculated:i.default.func,onTruncated:i.default.func,onToggled:i.default.func,text:i.default.string,textElement:i.default.elementType,textTruncateChild:i.default.node,truncateText:i.default.string,maxCalculateTimes:i.default.number}),y(x,"defaultProps",{element:"div",line:1,text:"",textElement:"span",truncateText:"…",maxCalculateTimes:10}),t.default=x,e.exports=t.default},void 0===(i="function"==typeof r?r.apply(t,o):r)||(e.exports=i)}}]);